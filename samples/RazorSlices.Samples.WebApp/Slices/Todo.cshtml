@using Microsoft.AspNetCore.Html;

@inherits RazorSliceHttpResult<Models.Todo>

<a href="/">Back to all todos</a>
<h1 class="mt-5">@Title(Model)</h1>
@if (Model.DueBy is { } dueBy)
{
    <div class="text-muted">Due by @dueBy</div>
}
@if (Model.IsComplete)
{
    <div class="text-muted">Completed</div>
}

@functions {
    protected override RazorSlice GetLayout()
    {
        var layoutModel = new LayoutModel
            {
                Title = $"Todo - {Model.Title} ({Model.Id})"
            };
        return _Layout.Create(layoutModel);
    }

    private string? Title(Models.Todo todo)
    {
        <text>Todo @todo.Id: @todo.TitleUtf8</text>
        return null;
    }
}
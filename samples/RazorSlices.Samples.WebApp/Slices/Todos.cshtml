@inherits RazorSliceHttpResult<Models.Todo[]>
@implements IUseLayout<_Layout, LayoutModel>

<h1 class="mt-5">Todos</h1>
<table class="table">
    <tr>
        <th>Id</th>
        <th>Title</th>
        <th>Due by</th>
        <th>Status</th>
    </tr>
    @foreach (var todo in Model)
    {
        @(await RenderPartialAsync<_TodoRow, Models.Todo>(todo))
        @* @await RenderPartialAsync(_TodoRow.Create(todo)) *@
        @* @await _TodoRow.RenderAsPartialAsync(todo, this) *@
        @* @{ await _TodoRow.RenderAsPartialAsync(todo); } *@
    }
</table>

@functions {
    public LayoutModel LayoutModel => new() { Title = $"Todos ({Model.Length})" };
}
